customElements.define("date-counter", class extends HTMLElement {
    connectedCallback() {
        var e = ["years", "days", "hours", "minutes", "seconds"], t = this.getAttribute("count")?.split(",") || e.filter((e => !this.hasAttribute("no" + e))), n = e.map((e => new Intl.RelativeTimeFormat(this.getAttribute("locale") || "en").formatToParts(10, e)[2].value.trim())), a = ({ tag: e = "div", id: t, append: n = [], ...a }) => (this[t] = Object.assign(document.createElement(e), { id: t, ...a }), this[t].append(...n), this[this[t].part = t]), r = (e, t, n) => `${t}:${this.getAttribute(e + "-" + t) || `var(--date-counter-${e}-${t},${n})`};`;
        this.attachShadow({ mode: "open" })
            .append(a({ tag: "style", innerHTML: ":host{display:inline-block;" + r("", "font", "arial") + r("", "width", "", t.length) + "}#event{" + r("event", "padding", "0 1rem") + r("event", "background", "gold") + r("event", "color", "black") + r("event", "text-align", "center") + r("event", "font-size", "2.5rem") + "}#counters{display:grid;grid:1fr/repeat(" + t.length + ",1fr);" + r("counters", "background", "green") + r("counters", "color", "white") + r("counters", "text-align", "center") + r("counters", "font-size", "2.5rem") + "}[part*='label']{" + r("label", "padding", "0 1rem") + r("label", "font-size", "50%") + r("label", "text-transform", "uppercase") + "}" }), a({ id: "event", innerHTML: "<slot>" + (this.getAttribute("event") || "Y2K38 Epochalypse") + "</slot>" }), a({ id: "counters", append: t.map((r => a({ id: r + "date", append: [a({ id: r, innerHTML: "0" }), a({ id: r + "label", innerHTML: e.reduce(((e, a, r) => (t.includes(a) && e.push(n[r]), e)), [])[t.indexOf(r)] || "" })] }))) })), e = setInterval((() => { t.map((e => this[e].innerHTML = this.Interval(new Date(this.getAttribute("date") || "2038-01-19 03:14:07"))[e])).every((e => !e)) && (clearInterval(e), this.setAttribute("ended", "ended")) }), 1e3)
    }
    Interval(e, t = new Date, n = new Date(e)) {
        var a, r = n < t && ([t, n] = [n, t]), i = n - t, s = 864e5, l = { years: ~~(i / (365 * s)) }, d = 0; for (a = t.getFullYear(); a < n.getFullYear(); a++)(a % 4 == 0 && a % 100 != 0 || a % 400 == 0) && (r ? d-- : d++); return l.days = ~~((i -= l.years * s * 365) / s) + d, l.hours = ~~((i -= (l.days - d) * s) / 36e5), l.minutes = ~~((i -= 36e5 * l.hours) / 6e4), l.seconds = ~~((i -= 6e4 * l.minutes) / 1e3), l
    }
});