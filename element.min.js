customElements.define("date-counter",class extends HTMLElement{connectedCallback(){var e=["years","days","hours","minutes","seconds"],t=this.getAttribute("count")?.split(",")||e.filter((e=>!this.hasAttribute("no"+e))),n=e.map((e=>new Intl.RelativeTimeFormat(this.getAttribute("locale")||"en").formatToParts(2,e)[2].value)).filter(((n,a)=>t.includes(e[a]))),a=({tag:e="div",id:t,append:n=[],...a})=>(this[t]=Object.assign(document.createElement(e),{id:t,...a}),this[t].append(...n),this[this[t].part=t]),r=(e,t,n)=>`${t}:${this.getAttribute(e+"-"+t)||`var(--date-counter-${e}-${t},${n})`};`;this.attachShadow({mode:"open"}).append(a({tag:"style",innerHTML:":host{display:inline-block;"+r("","font","arial")+r("","width","",t.length)+"}#event{"+r("event","color","#000")+r("event","padding","0 1rem")+r("event","font-size","2.5rem")+r("event","text-align","center")+r("event","background","#fc0")+"}#counters{display:grid;grid:1fr/repeat("+t.length+",1fr);"+r("counters","color","#fff")+r("counters","font-size","2.5rem")+r("counters","text-align","center")+r("counters","background","#080")+"}[part*='label']{"+r("label","padding","0 1rem")+r("label","font-size","50%")+r("label","text-transform","uppercase")+"}"}),a({id:"event",innerHTML:"<slot>"+(this.getAttribute("event")||"Y2K38 Epochalypse")+"</slot>"}),a({id:"counters",append:t.map((e=>a({id:e+"date",append:[a({id:e}),a({id:e+"label",innerHTML:n[t.indexOf(e)]})]})))})),e=setInterval((()=>{var n=this.counter(new Date(this.getAttribute("date")||"2038-01-19 03:14:07"));t.map((e=>(this.setAttribute(e,n[e]),this[e].innerHTML=n[e]))).every((e=>!e))&&(clearInterval(e),this.dispatchEvent(new CustomEvent("date-counter",{bubbles:1,composed:1})))}),1e3)}counter(e,t=new Date,n=new Date(e)){var a,r=n<t&&([t,n]=[n,t]),s=n-t,i=864e5,l={years:~~(s/(365*i))},o=0;for(a=t.getFullYear();a<n.getFullYear();a++)(a%4==0&&a%100!=0||a%400==0)&&(r?o--:o++);return l.days=~~((s-=l.years*i*365)/i)+o,l.hours=~~((s-=(l.days-o)*i)/36e5),l.minutes=~~((s-=36e5*l.hours)/6e4),l.seconds=~~((s-=6e4*l.minutes)/1e3),l}});